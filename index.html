<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Guessix: A challenging 6-letter word guessing game inspired by Wordle. Test your skills with 6 guesses to find the right word!" />
  <meta name="keywords" content="Guessix, word game, word guessing game, 6 letter words, word puzzle, online game, Wordle style, vocabulary game" />
<link rel="icon" href="favicon.png" type="image/png" />
  <title>Guessix</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #f0f0f0;
      height: 100vh;
      margin: 0;
    }
    h1 {
      font-family: 'Orbitron', sans-serif;
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    .board {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      gap: 10px;
      margin-bottom: 20px;
    }
    .row {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 5px;
    }
    .tile {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fff;
      border: 2px solid #ccc;
      text-transform: uppercase;
      font-weight: bold;
      font-size: 1.2em;
      user-select: none;
    }
    .keyboard {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }
    .keyboard-row {
      display: flex;
      gap: 5px;
    }
    .key {
      width: 40px;
      height: 40px;
      background: #ddd;
      border: none;
      border-radius: 5px;
      font-size: 1em;
      font-weight: bold;
      cursor: pointer;
      text-transform: uppercase;
      user-select: none;
      transition: background-color 0.3s;
    }
    .key.wide {
      width: 80px;
    }
    .green {
      background-color: #6aaa64 !important;
      color: white;
    }
    .yellow {
      background-color: #c9b458 !important;
      color: white;
    }
    .gray {
      background-color: #787c7e !important;
      color: white;
    }
  </style>
</head>
<body>
  <h1>Guessix</h1>
  <div class="board" id="board"></div>
  <div class="keyboard" id="keyboard"></div>

  <script>
    const WORD_LENGTH = 6;
    const MAX_GUESSES = 6;
    const ANSWER = "planet"; // The answer word in lowercase

    let currentGuess = "";
    let currentRow = 0;

    const board = document.getElementById("board");
    const keyboard = document.getElementById("keyboard");

    // Priority for colors so keyboard keeps highest state
    const colorPriority = { gray: 0, yellow: 1, green: 2 };

    // Create the game board grid
    function createBoard() {
      for (let i = 0; i < MAX_GUESSES; i++) {
        const row = document.createElement("div");
        row.classList.add("row");
        for (let j = 0; j < WORD_LENGTH; j++) {
          const tile = document.createElement("div");
          tile.classList.add("tile");
          row.appendChild(tile);
        }
        board.appendChild(row);
      }
    }

    // Create the QWERTY keyboard with data-key attributes
    function createKeyboard() {
      const rows = [
        ["q", "w", "e", "r", "t", "y", "u", "i", "o", "p"],
        ["a", "s", "d", "f", "g", "h", "j", "k", "l"],
        ["Enter", "z", "x", "c", "v", "b", "n", "m", "Delete"]
      ];

      rows.forEach(row => {
        const kbRow = document.createElement("div");
        kbRow.classList.add("keyboard-row");
        row.forEach(key => {
          const keyButton = document.createElement("button");
          keyButton.textContent = key;
          keyButton.classList.add("key");
          keyButton.setAttribute("data-key", key.toLowerCase());
          if (key === "Enter" || key === "Delete") {
            keyButton.classList.add("wide");
          }
          keyButton.addEventListener("click", () => handleKey(key));
          kbRow.appendChild(keyButton);
        });
        keyboard.appendChild(kbRow);
      });
    }

    // Handle key clicks
    function handleKey(key) {
      if (key === "Enter") {
        if (currentGuess.length !== WORD_LENGTH) return;
        checkGuess();
      } else if (key === "Delete") {
        currentGuess = currentGuess.slice(0, -1);
        updateBoard();
      } else if (/^[a-zA-Z]$/.test(key)) {
        if (currentGuess.length < WORD_LENGTH) {
          currentGuess += key.toLowerCase();
          updateBoard();
        }
      }
    }

    // Update the current guess display on the board
    function updateBoard() {
      const row = board.children[currentRow];
      for (let i = 0; i < WORD_LENGTH; i++) {
        const tile = row.children[i];
        tile.textContent = currentGuess[i] ? currentGuess[i].toUpperCase() : "";
        tile.classList.remove("green", "yellow", "gray");
      }
    }

    // Check the guess against the answer and color tiles and keyboard
    function checkGuess() {
      const row = board.children[currentRow];
      const guess = currentGuess;
      const answerArray = ANSWER.split("");
      const colors = new Array(WORD_LENGTH).fill("gray");
      const answerLetterCount = {};

      // Count letters in the answer
      for (const letter of answerArray) {
        answerLetterCount[letter] = (answerLetterCount[letter] || 0) + 1;
      }

      // First pass: green for correct letter + position
      for (let i = 0; i < WORD_LENGTH; i++) {
        if (guess[i] === answerArray[i]) {
          colors[i] = "green";
          answerLetterCount[guess[i]]--;
        }
      }

      // Second pass: yellow for correct letter wrong position
      for (let i = 0; i < WORD_LENGTH; i++) {
        if (colors[i] === "green") continue;
        if (answerLetterCount[guess[i]] > 0) {
          colors[i] = "yellow";
          answerLetterCount[guess[i]]--;
        }
      }

      // Color tiles on the board
      for (let i = 0; i < WORD_LENGTH; i++) {
        const tile = row.children[i];
        tile.classList.add(colors[i]);
      }

      // Update keyboard colors
      updateKeyboardColors(guess, colors);

      // Check win
      if (colors.every(color => color === "green")) {
        alert("Congrats! You guessed the word!");
        return;
      }

      currentGuess = "";
      currentRow++;

      if (currentRow === MAX_GUESSES) {
        alert(`Game Over! The word was "${ANSWER.toUpperCase()}"`);
      }
    }

    // Update the keyboard colors, keeping highest priority color per key
    function updateKeyboardColors(guess, colors) {
      for (let i = 0; i < guess.length; i++) {
        const letter = guess[i];
        const color = colors[i];
        const keyButton = keyboard.querySelector(`button[data-key="${letter}"]`);
        if (!keyButton) continue;

        const currentColor = keyButton.dataset.color || "";
        if (
          !currentColor ||
          colorPriority[color] > colorPriority[currentColor]
        ) {
          keyButton.classList.remove("green", "yellow", "gray");
          keyButton.classList.add(color);
          keyButton.dataset.color = color;
        }
      }
    }

    // Initialize game
    createBoard();
    createKeyboard();

    // Optional: Support physical keyboard input
    window.addEventListener("keydown", e => {
      if (e.key === "Enter") {
        handleKey("Enter");
      } else if (e.key === "Backspace" || e.key === "Delete") {
        handleKey("Delete");
      } else if (/^[a-zA-Z]$/.test(e.key)) {
        handleKey(e.key.toLowerCase());
      }
    });
  </script>
</body>
</html>